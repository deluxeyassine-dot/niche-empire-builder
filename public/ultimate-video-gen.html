<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Video Generator - FREE | Sora Quality</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --accent: #10b981;
            --dark: #0f172a;
            --darker: #020617;
            --light: #f1f5f9;
            --card: rgba(30, 41, 59, 0.9);
            --border: rgba(148, 163, 184, 0.2);
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, var(--darker) 0%, #1a1a2e 50%, var(--darker) 100%);
            color: var(--light);
            min-height: 100vh;
            line-height: 1.6;
        }

        .bg-effects {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.4;
            animation: pulse 8s ease-in-out infinite;
        }

        .orb-1 { width: 500px; height: 500px; background: var(--primary); top: -150px; left: -150px; }
        .orb-2 { width: 400px; height: 400px; background: var(--secondary); bottom: -100px; right: -100px; animation-delay: -4s; }
        .orb-3 { width: 300px; height: 300px; background: var(--accent); top: 50%; left: 50%; transform: translate(-50%, -50%); animation-delay: -2s; }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.4; }
            50% { transform: scale(1.1); opacity: 0.6; }
        }

        .container { max-width: 1000px; margin: 0 auto; padding: 30px 20px; }

        header { text-align: center; margin-bottom: 30px; }

        h1 {
            font-size: 2.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, #818cf8, #ec4899, #10b981);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .tagline { font-size: 1.1rem; color: rgba(255,255,255,0.7); }

        .badges { display: flex; gap: 10px; justify-content: center; margin-top: 12px; flex-wrap: wrap; }

        .badge {
            display: inline-block;
            padding: 5px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .badge-green { background: linear-gradient(135deg, var(--accent), #059669); color: white; }
        .badge-blue { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; }
        .badge-pink { background: linear-gradient(135deg, var(--secondary), #db2777); color: white; }

        .card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .card-header h2 { font-size: 1.2rem; font-weight: 600; }
        .card-header .icon { font-size: 1.4rem; }

        label { display: block; font-weight: 500; margin-bottom: 8px; color: rgba(255,255,255,0.9); }

        textarea, select, input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            background: rgba(15, 23, 42, 0.7);
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s;
        }

        textarea { min-height: 100px; resize: vertical; }
        textarea:focus, select:focus, input:focus { outline: none; border-color: var(--primary); }
        textarea::placeholder { color: rgba(255,255,255,0.4); }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .model-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .model-card {
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            position: relative;
        }

        .model-card:hover { border-color: var(--primary); background: rgba(99, 102, 241, 0.1); }
        .model-card.selected { border-color: var(--primary); background: rgba(99, 102, 241, 0.2); }
        .model-card.selected::after {
            content: "‚úì";
            position: absolute;
            top: 8px; right: 8px;
            background: var(--accent);
            color: white;
            width: 20px; height: 20px;
            border-radius: 50%;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .model-name { font-weight: 600; margin-bottom: 4px; }
        .model-desc { font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-bottom: 8px; }

        .model-tag {
            display: inline-block;
            font-size: 0.7rem;
            padding: 3px 10px;
            border-radius: 10px;
        }

        .tag-fast { background: var(--accent); color: white; }
        .tag-quality { background: var(--primary); color: white; }
        .tag-popular { background: var(--secondary); color: white; }

        .generate-btn {
            width: 100%;
            padding: 18px;
            font-size: 1.2rem;
            font-weight: 700;
            color: white;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .generate-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(99, 102, 241, 0.4);
        }

        .generate-btn:disabled { opacity: 0.7; cursor: not-allowed; }

        .spinner {
            width: 22px; height: 22px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin { to { transform: rotate(360deg); } }

        .progress-section { margin-top: 25px; }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            background-size: 200% 100%;
            animation: shimmer 2s linear infinite;
            border-radius: 5px;
            transition: width 0.5s;
        }

        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

        .status-text { text-align: center; color: rgba(255,255,255,0.8); }
        .status-text .stage { font-weight: 600; color: var(--primary); }
        .timer { text-align: center; font-size: 0.85rem; color: rgba(255,255,255,0.5); margin-top: 6px; }

        .result-section { margin-top: 25px; }

        .video-container {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            background: rgba(0,0,0,0.5);
            min-height: 400px;
        }

        .video-container iframe {
            width: 100%;
            min-height: 550px;
            border: none;
            border-radius: 12px;
        }

        .actions {
            display: flex;
            gap: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .action-btn {
            flex: 1;
            min-width: 140px;
            padding: 12px 20px;
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .action-btn.primary {
            background: linear-gradient(135deg, var(--accent), #059669);
            color: white;
            border: none;
        }

        .action-btn.secondary {
            background: transparent;
            color: var(--light);
            border: 2px solid var(--border);
        }

        .action-btn:hover { transform: translateY(-2px); }

        .info-box {
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .info-box h3 { font-size: 0.95rem; margin-bottom: 10px; color: var(--primary); }
        .info-box ul { list-style: none; font-size: 0.85rem; color: rgba(255,255,255,0.7); }
        .info-box li { padding: 3px 0; padding-left: 18px; position: relative; }
        .info-box li::before { content: "‚Üí"; position: absolute; left: 0; color: var(--accent); }

        .warning-box {
            background: rgba(234, 179, 8, 0.1);
            border: 1px solid rgba(234, 179, 8, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .warning-box h3 { font-size: 0.95rem; margin-bottom: 10px; color: #fbbf24; }

        .hidden { display: none !important; }

        .error-msg {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.5);
            color: #fca5a5;
            padding: 14px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .success-msg {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.5);
            color: #6ee7b7;
            padding: 14px;
            border-radius: 10px;
            margin-top: 15px;
        }

        footer {
            text-align: center;
            padding: 30px 20px;
            color: rgba(255,255,255,0.4);
            font-size: 0.85rem;
        }

        footer a { color: var(--primary); text-decoration: none; }

        .quick-prompts {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .quick-prompt {
            padding: 6px 12px;
            background: rgba(99, 102, 241, 0.2);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-prompt:hover { background: rgba(99, 102, 241, 0.4); }

        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            .container { padding: 20px 15px; }
            .card { padding: 18px; }
            .model-cards { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>
    <div class="bg-effects">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
    </div>

    <div class="container">
        <header>
            <h1>Ultimate Video Generator</h1>
            <p class="tagline">Sora-Quality Videos ‚Ä¢ Lightning Fast ‚Ä¢ 100% FREE</p>
            <div class="badges">
                <span class="badge badge-green">No API Keys</span>
                <span class="badge badge-blue">No Sign-up</span>
                <span class="badge badge-pink">Unlimited</span>
            </div>
        </header>

        <!-- Prompt Section -->
        <div class="card">
            <div class="card-header">
                <span class="icon">‚úçÔ∏è</span>
                <h2>Describe Your Video</h2>
            </div>

            <textarea id="prompt" placeholder="A cinematic shot of a wolf running through a snowy forest at golden hour, dramatic lighting, film grain, 4K quality, slow motion..."></textarea>

            <div class="quick-prompts">
                <span class="quick-prompt" data-prompt="A majestic eagle soaring over snow-capped mountains at sunrise, cinematic, 4K">ü¶Ö Eagle Flight</span>
                <span class="quick-prompt" data-prompt="Ocean waves crashing on rocks during a dramatic sunset, slow motion, cinematic">üåä Ocean Waves</span>
                <span class="quick-prompt" data-prompt="A futuristic city at night with neon lights and flying cars, cyberpunk style">üåÉ Cyberpunk City</span>
                <span class="quick-prompt" data-prompt="Cherry blossoms falling in a Japanese garden, peaceful, soft lighting">üå∏ Cherry Blossoms</span>
            </div>

            <div class="settings-grid">
                <div>
                    <label>Duration</label>
                    <select id="duration">
                        <option value="3">3 seconds (fastest)</option>
                        <option value="5" selected>5 seconds</option>
                        <option value="8">8 seconds</option>
                    </select>
                </div>
                <div>
                    <label>Quality</label>
                    <select id="quality">
                        <option value="fast">Fast (480p)</option>
                        <option value="balanced" selected>Balanced (720p)</option>
                        <option value="high">High (1080p)</option>
                    </select>
                </div>
                <div>
                    <label>Style</label>
                    <select id="style">
                        <option value="realistic" selected>Realistic</option>
                        <option value="cinematic">Cinematic</option>
                        <option value="anime">Anime</option>
                        <option value="artistic">Artistic</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Model Selection -->
        <div class="card">
            <div class="card-header">
                <span class="icon">ü§ñ</span>
                <h2>Select AI Model</h2>
            </div>

            <div class="model-cards">
                <div class="model-card selected" data-model="ltx2" data-url="https://lightricks-ltx-2.hf.space">
                    <div class="model-name">LTX-2</div>
                    <div class="model-desc">Latest & Fastest</div>
                    <span class="model-tag tag-fast">Fastest</span>
                </div>
                <div class="model-card" data-model="ltx-fast" data-url="https://lightricks-ltx-video-distilled.hf.space">
                    <div class="model-name">LTX Video Fast</div>
                    <div class="model-desc">Distilled for speed</div>
                    <span class="model-tag tag-fast">Fast</span>
                </div>
                <div class="model-card" data-model="wan22" data-url="https://wan-ai-wan2-1.hf.space">
                    <div class="model-name">Wan 2.1</div>
                    <div class="model-desc">Best quality</div>
                    <span class="model-tag tag-quality">Quality</span>
                </div>
                <div class="model-card" data-model="wan-animate" data-url="https://wan-ai-wan2-2-animate.hf.space">
                    <div class="model-name">Wan2.2 Animate</div>
                    <div class="model-desc">4.2k likes</div>
                    <span class="model-tag tag-popular">Popular</span>
                </div>
                <div class="model-card" data-model="svd" data-url="https://multimodalart-stable-video-diffusion.hf.space">
                    <div class="model-name">Stable Video</div>
                    <div class="model-desc">Image to video</div>
                    <span class="model-tag tag-quality">I2V</span>
                </div>
            </div>
        </div>

        <!-- Generate Button -->
        <button id="generateBtn" class="generate-btn">
            <span id="btnIcon">‚ö°</span>
            <span id="btnText">Generate Video - FREE</span>
        </button>

        <!-- Progress -->
        <div id="progressSection" class="progress-section hidden">
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill" style="width: 0%"></div>
            </div>
            <p class="status-text">
                <span class="stage" id="statusStage">Initializing</span>
                <span id="statusDetail"></span>
            </p>
            <p class="timer">Elapsed: <span id="elapsedTime">0:00</span></p>
        </div>

        <!-- Error/Success Messages -->
        <div id="errorMsg" class="error-msg hidden"></div>
        <div id="successMsg" class="success-msg hidden"></div>

        <!-- Result -->
        <div id="resultSection" class="result-section hidden">
            <div class="card">
                <div class="card-header">
                    <span class="icon">üé¨</span>
                    <h2>Video Generator Interface</h2>
                </div>
                <div class="video-container" id="videoContainer"></div>
                <div class="actions">
                    <button id="newVideoBtn" class="action-btn secondary">üîÑ New Video</button>
                    <button id="changeModelBtn" class="action-btn secondary">üîÄ Change Model</button>
                </div>
            </div>
        </div>

        <!-- Info Boxes -->
        <div class="info-box">
            <h3>How It Works</h3>
            <ul>
                <li>Select your preferred AI model above</li>
                <li>LTX-2: Latest model, fastest generation (1-2 min)</li>
                <li>Wan 2.1/2.2: Highest quality cinematic results</li>
                <li>Stable Video: Best for animating images</li>
                <li>All processing on free Hugging Face GPUs</li>
            </ul>
        </div>

        <div class="warning-box">
            <h3>Note: First Load May Take Time</h3>
            <ul>
                <li>Free HF Spaces may need 30-60s to "wake up"</li>
                <li>If interface shows "Loading...", please wait</li>
                <li>Once loaded, generation takes 1-4 minutes</li>
                <li>If one model is slow, try another</li>
            </ul>
        </div>

        <footer>
            <p>Part of <a href="/dashboard.html">Niche Empire Builder</a></p>
            <p style="margin-top: 6px;">Powered by Hugging Face Spaces ‚Ä¢ All models 100% free</p>
        </footer>
    </div>

    <script>
        // Ultimate Video Generator v2.0 - Core Logic
        const MODELS = {
            'ltx2': {
                name: 'LTX-2',
                url: 'https://lightricks-ltx-2.hf.space',
                avgTime: 90,
                quality: 'high'
            },
            'ltx-fast': {
                name: 'LTX Video Fast',
                url: 'https://lightricks-ltx-video-distilled.hf.space',
                avgTime: 60,
                quality: 'good'
            },
            'wan22': {
                name: 'Wan 2.1',
                url: 'https://wan-ai-wan2-1.hf.space',
                avgTime: 150,
                quality: 'best'
            },
            'wan-animate': {
                name: 'Wan2.2 Animate',
                url: 'https://wan-ai-wan2-2-animate.hf.space',
                avgTime: 180,
                quality: 'best'
            },
            'svd': {
                name: 'Stable Video Diffusion',
                url: 'https://multimodalart-stable-video-diffusion.hf.space',
                avgTime: 120,
                quality: 'good'
            }
        };

        // DOM Elements
        const promptInput = document.getElementById('prompt');
        const durationSelect = document.getElementById('duration');
        const qualitySelect = document.getElementById('quality');
        const styleSelect = document.getElementById('style');
        const generateBtn = document.getElementById('generateBtn');
        const btnIcon = document.getElementById('btnIcon');
        const btnText = document.getElementById('btnText');
        const progressSection = document.getElementById('progressSection');
        const progressFill = document.getElementById('progressFill');
        const statusStage = document.getElementById('statusStage');
        const statusDetail = document.getElementById('statusDetail');
        const elapsedTime = document.getElementById('elapsedTime');
        const errorMsg = document.getElementById('errorMsg');
        const successMsg = document.getElementById('successMsg');
        const resultSection = document.getElementById('resultSection');
        const videoContainer = document.getElementById('videoContainer');
        const modelCards = document.querySelectorAll('.model-card');
        const quickPrompts = document.querySelectorAll('.quick-prompt');

        // State
        let selectedModel = 'ltx2';
        let isGenerating = false;
        let startTime = null;
        let timerInterval = null;

        // Model Selection
        modelCards.forEach(card => {
            card.addEventListener('click', () => {
                modelCards.forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                selectedModel = card.dataset.model;
            });
        });

        // Quick Prompts
        quickPrompts.forEach(qp => {
            qp.addEventListener('click', () => {
                promptInput.value = qp.dataset.prompt;
                promptInput.focus();
            });
        });

        // Format time
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        // Update timer
        function updateTimer() {
            if (startTime) {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                elapsedTime.textContent = formatTime(elapsed);
            }
        }

        // Show/hide helpers
        function show(el) { el.classList.remove('hidden'); }
        function hide(el) { el.classList.add('hidden'); }

        // Update progress
        function updateProgress(percent, stage, detail = '') {
            progressFill.style.width = `${percent}%`;
            statusStage.textContent = stage;
            statusDetail.textContent = detail ? ` - ${detail}` : '';
        }

        // Show error
        function showError(message) {
            errorMsg.textContent = message;
            show(errorMsg);
            hide(successMsg);
        }

        // Show success
        function showSuccess(message) {
            successMsg.textContent = message;
            show(successMsg);
            hide(errorMsg);
        }

        // Clear messages
        function clearMessages() {
            hide(errorMsg);
            hide(successMsg);
        }

        // Enhance prompt
        function enhancePrompt(prompt, style) {
            const styleMap = {
                realistic: 'photorealistic, high detail, natural lighting',
                cinematic: 'cinematic, 35mm film, dramatic lighting, anamorphic, film grain',
                anime: 'anime style, cel shading, vibrant colors, Japanese animation',
                artistic: 'artistic, painterly, creative, stylized'
            };
            return `${prompt}, ${styleMap[style] || ''}`;
        }

        // Generate Video
        async function generateVideo() {
            const prompt = promptInput.value.trim();

            if (!prompt) {
                showError('Please enter a description for your video.');
                return;
            }

            if (isGenerating) return;

            isGenerating = true;
            startTime = Date.now();

            // Update UI
            generateBtn.disabled = true;
            btnIcon.innerHTML = '<div class="spinner"></div>';
            btnText.textContent = 'Loading Generator...';
            show(progressSection);
            hide(resultSection);
            clearMessages();

            // Start timer
            timerInterval = setInterval(updateTimer, 1000);

            try {
                const model = MODELS[selectedModel];
                const style = styleSelect.value;
                const enhancedPrompt = enhancePrompt(prompt, style);

                updateProgress(15, 'Connecting', `to ${model.name}`);

                // Progress stages
                setTimeout(() => updateProgress(30, 'Loading', 'Model interface'), 1000);
                setTimeout(() => updateProgress(50, 'Initializing', 'GPU resources'), 2000);
                setTimeout(() => updateProgress(70, 'Ready', 'Loading complete'), 3000);

                // Create iframe
                const iframe = document.createElement('iframe');
                iframe.src = model.url;
                iframe.style.width = '100%';
                iframe.style.minHeight = '550px';
                iframe.style.border = 'none';
                iframe.style.borderRadius = '12px';
                iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
                iframe.loading = 'lazy';

                // Clear and add iframe
                videoContainer.innerHTML = '';
                videoContainer.appendChild(iframe);

                setTimeout(() => {
                    updateProgress(100, 'Complete', 'Generator loaded');
                    show(resultSection);
                    showSuccess(`${model.name} is ready! Enter your prompt: "${enhancedPrompt.substring(0, 60)}..." in the interface and click Generate.`);

                    // Scroll to result
                    resultSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 3500);

            } catch (error) {
                console.error('Error:', error);
                showError(`Error: ${error.message}. Please try again or select a different model.`);
            } finally {
                clearInterval(timerInterval);
                isGenerating = false;
                generateBtn.disabled = false;
                btnIcon.textContent = '‚ö°';
                btnText.textContent = 'Generate Video - FREE';
            }
        }

        // New Video
        document.getElementById('newVideoBtn').addEventListener('click', () => {
            hide(resultSection);
            videoContainer.innerHTML = '';
            clearMessages();
            promptInput.value = '';
            promptInput.focus();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Change Model
        document.getElementById('changeModelBtn').addEventListener('click', () => {
            hide(resultSection);
            videoContainer.innerHTML = '';
            clearMessages();
            document.querySelector('.model-cards').scrollIntoView({ behavior: 'smooth' });
        });

        // Generate button
        generateBtn.addEventListener('click', generateVideo);

        // Ctrl+Enter to generate
        promptInput.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'Enter') {
                generateVideo();
            }
        });

        // URL params
        const urlParams = new URLSearchParams(window.location.search);
        const promptParam = urlParams.get('prompt');
        if (promptParam) {
            promptInput.value = promptParam;
        }
    </script>
</body>
</html>
